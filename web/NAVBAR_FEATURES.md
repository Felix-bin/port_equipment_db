# 导航栏功能说明

## 🎨 右上角功能区域

导航栏右侧现在包含以下功能（从左到右）：

### 1. 🌐 语言切换
- **功能**：中文/英文界面切换
- **操作**：点击语言图标，选择语言
- **支持语言**：
  - 🇨🇳 简体中文
  - 🇺🇸 English

### 2. 🌓 主题切换
- **功能**：亮色/暗色模式切换
- **操作**：点击按钮切换
- **图标**：
  - ☀️ 太阳图标 - 当前为亮色模式，点击切换到暗色
  - 🌙 月亮图标 - 当前为暗色模式，点击切换到亮色
- **特性**：主题设置会自动保存到浏览器本地存储

### 3. 🖥️ 全屏切换
- **功能**：进入/退出全屏模式
- **操作**：点击按钮切换全屏状态
- **图标**：
  - 📺 全屏图标 - 点击进入全屏
  - 📱 退出全屏图标 - 点击退出全屏
- **快捷键**：F11（浏览器原生快捷键）

### 4. 👤 用户信息
- **显示内容**：
  - **用户名**：显示真实姓名（从 `real_name` 字段获取）
  - **角色标签**：显示用户角色的中文标签
    - 🔴 管理员 (admin)
    - 🔵 仓管员 (warehouse)
    - 🟢 财务 (finance)
    - 🟠 操作员 (operator)

### 5. 🖼️ 用户头像
- **显示**：圆形头像，显示用户上传的真实头像
- **默认**：未上传头像时显示用户图标
- **交互**：点击展开下拉菜单
- **菜单选项**：
  - ⚙️ **用户设置** - 跳转到个人设置页面
  - 🚪 **退出登录** - 退出系统，返回登录页

## 🎯 界面布局

```
┌───────────────────────────────────────────────────────────────────┐
│ 🏢 装备租赁管理系统    🌐 🌓 🖥️  │  张三 [管理员] 👤          │
│                                   │            ↓                   │
│                                   │      • 用户设置               │
│                                   │      • 退出登录               │
└───────────────────────────────────────────────────────────────────┘
```

## ✨ 功能特性

### 智能分隔
- 功能按钮（语言、主题、全屏）在左侧
- 用户信息区域在右侧，用分隔线区分
- 头像最右侧，方便点击

### 视觉反馈
- 🎯 **按钮悬停效果** - 鼠标悬停时按钮显示高亮
- 💫 **头像悬停效果** - 头像边框变色并显示阴影
- ✅ **选中状态** - 当前语言/主题会显示勾选标记

### 响应式设计
- 📱 移动端自动适配
- 💻 桌面端完整显示
- 🖥️ 大屏幕优化布局

## 🔧 技术实现

### 状态管理
- **主题状态**：存储在 `appStore.theme`
- **语言状态**：存储在 `i18n` 配置
- **用户信息**：从 `userStore` 获取
- **头像URL**：通过 `getAvatarUrl()` 工具函数处理

### 数据来源
- **用户名**：`userStore.name` (来自 `users.real_name`)
- **角色**：`userStore.role` (来自 `users.role`)
- **头像**：`userStore.avatar` (来自 `users.avatar`)

### API调用
- 页面加载时自动获取用户完整信息（包括头像）
- 头像URL自动拼接后端服务器地址

## 📝 已移除的功能

为了保持界面简洁，以下功能已移除：
- ❌ 搜索按钮
- ❌ 消息通知
- ❌ 全局设置按钮
- ❌ 切换角色功能
- ❌ 用户中心入口（改为直接跳转用户设置）

## 🚀 使用建议

### 首次使用
1. 登录系统后，点击右上角头像
2. 选择"用户设置"完善个人信息
3. 上传个人头像
4. 根据习惯切换语言和主题

### 日常使用
- 💡 使用主题切换保护视力（夜间建议暗色模式）
- 🌐 接待外宾时可快速切换英文界面
- 🖥️ 演示或培训时可使用全屏模式
- 👤 随时点击头像快速访问个人设置

## 🎨 样式定制

如需自定义样式，可在 `navbar/index.vue` 中修改：
- `.nav-btn` - 按钮样式
- `.user-info` - 用户信息区域
- `.user-avatar` - 头像样式

## 🔗 相关文件

| 文件 | 说明 |
|------|------|
| `components/navbar/index.vue` | 导航栏主组件 |
| `utils/image.ts` | 头像URL处理工具 |
| `store/modules/user/index.ts` | 用户状态管理 |
| `store/modules/app/index.ts` | 应用状态管理 |
| `hooks/locale.ts` | 语言切换钩子 |
| `hooks/user.ts` | 用户操作钩子 |

